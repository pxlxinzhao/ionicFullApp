<ion-view class="wechat-view">
  <ion-content>
    <ion-refresher
            pulling-text="Pull to refresh..."
            on-refresh="doRefresh()"
            spinner="ios">
    </ion-refresher>
    <div class="list layouts-functionalities chats-container">
      <a ng-repeat="chatter in chatters" class="item item-icon-left" ui-sref="app.chat({senderId: chatter.username})">
        <img class="wechat-user-icon" ng-src="{{chatter.photoUrl}}" />
        <div>
          <span class="title">{{chatter.username}}</span>
          <p class="description">Message from {{chatter.username}}</p>
        </div>
        <new-msg count="{{chatter.count ? chatter.count : 0}}"></new-msg>
      </a>
      <div class="chats-place-holder"></div>
    </div>
  </ion-content>

  <ion-tabs class="tabs-assertive tabs-icon-top">
    <!--proxy is just used to redirect to app.weixin, but also save the history at app level so we can go back when we enter chat-->
    <ion-tab title="Chat" icon-on="ion-android-chat" icon-off="ion-android-chat" ui-sref="app.wechat">
    </ion-tab>

    <ion-tab title="Contacts" icon-on="ion-android-contacts" icon-off="ion-android-contacts" ui-sref="app.contact">
    </ion-tab>

    <ion-tab title="Discover" icon-on="ion-compass" icon-off="ion-compass" ui-sref="app.discover ">
    </ion-tab>

    <ion-tab title="Me" icon-on="ion-android-contact" icon-off="ion-android-contact" ui-sref="app.me">
    </ion-tab>

  </ion-tabs>
</ion-view>
